このスクリプトは、指定した件数のテストデータを生成し、CSVファイルに出力します。

このスクリプトの主な特徴は以下の通りです：

1. **データ生成ロジック**：
    - 設計ドキュメントの条件に基づき、各種ステージの獲得条件に合わせたデータを生成
    - 現在のステージに応じて、次のステージの条件を満たすかどうかに偏りを持たせています
    - シルバー、ゴールド、プラチナの各ステージ獲得条件に基づいた値を設定

2. **コマンドライン引数**：
    - `-n, --num_records`: 生成するレコード数（デフォルト: 100）
    - `-o, --output`: 出力ファイルのパス（デフォルト: bank_account_stage_test_data.csv）
    - `-d, --date`: 月末日（YYYY-MM-DD形式、指定がない場合は現在の月の末日）

3. **データ分析機能**：
    - 生成したデータの現在のステージ分布
    - 各種条件（シルバー、ゴールド、プラチナ、ランクアップ）を満たす顧客の割合

### 使用例

基本的な使用例：
```
python3 generate_bank_stage_test_data.py
```

レコード数と出力ファイルを指定：
```
python3 generate_bank_stage_test_data.py --num_records 1000 --output test_data_large.csv
```

特定の月末日を指定：
```
python3 generate_bank_stage_test_data.py --date 2025-04-30
```

このスクリプトを使用すれば、銀行口座ステージ月次バッチ処理のテスト用に様々なパターンのデータを簡単に生成できます。また、生成したデータがどのような分布になっているかも即座に確認できます。